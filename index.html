<!doctype html>
<html>
<head>
  <link rel="import" href="/elements.html">
  <style>
    .dropdown-content {
      background-color: white;
      line-height: 20px;
      border-radius: 3px;
      box-shadow: 0px 2px 6px #ccc;
    }  
  </style>
</head>

<!-- https://u6HsSO7H58krEHqMydGDyNx0VwIYsQOeZpYfZhnx:X@bibles.org/v2/versions/eng-NASB/books.js?include_chapters=true -->
<!-- https://bibles.org/v2/{{bible-edition}}/passages.js?q[]={{book}}+{{chapter}}%3A{{start}}-{{stop}} -->
<!-- https://bibles.org/v2/eng-NASB/passages.js?q[]=Genesis+3%3A1-5 -->

<body class="fullbleed vertical layout">
  <template is="dom-bind" id="app">

<!--      params='{"edition":"{{edition}}", "book":"{{book}}", "chapter":"{{chapter}}", "start":"{{start}}", "end":"{{end}}"}' -->

    <iron-ajax
      auto
      url="/passage"
      params='{"edition":"eng-NASB", "book":"Genesis", "chapter":"2", "start":"2", "end":"5"}'
      handle-as="json"
      last-response="{{ajaxResponse}}"
      on-response="handleResponse"
      debounce-duration="300">
    </iron-ajax>

    <iron-ajax
      auto
      url="/books"
      handle-as="json"
      last-response="{{bookMenu}}"
      debounce-duration="300">
    </iron-ajax>

    <paper-drawer-panel class="flex" force-narrow>

      <paper-header-panel drawer mode="standard">
        <paper-toolbar>
          <div>Read</div>
          <span class="flex"></span>
          <paper-icon-button icon="clear" paper-drawer-toggle></paper-icon-button>
        </paper-toolbar>

        <paper-menu>
          <template is="dom-repeat" items="[[bookMenu]]" as="section">
            <paper-submenu>
              <paper-item class="menu-trigger">[[section.title]]</paper-item>
              <paper-menu class="menu-content">
                <template is="dom-repeat" items="[[section.books]]" as="book">
                  <paper-submenu>
                    <paper-item class="menu-trigger">[[book.title]]</paper-item>
                    <paper-menu class="menu-content">
                      
                      <paper-input label="Chapter" type="number"></paper-input>
                      <paper-input label="Start" type="number"></paper-input>
                      <paper-input label="Finish" type="number"></paper-input>

                    </paper-menu>
                  </paper-submenu>
                </template>
              </paper-menu>
            </paper-submenu>
          </template>
        </paper-menu>

<hr/>


        <paper-menu>
          <paper-submenu>
            <paper-item class="menu-trigger">OT</paper-item>
            <paper-menu class="menu-content">
              <paper-submenu>
                <paper-item class="menu-trigger">Genesis</paper-item>
                <paper-menu class="menu-content">
                  <paper-submenu>
                    <paper-item class="menu-trigger">1</paper-item>
                    <paper-menu class="menu-content">
                      <paper-dropdown-menu style="width:40%" label="Start">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                      <paper-dropdown-menu style="width:40%" label="End">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                    </paper-menu>
                  </paper-submenu>
                  <paper-submenu>
                    <paper-item class="menu-trigger">2</paper-item>
                    <paper-menu class="menu-content">
                      <paper-dropdown-menu style="width:40%">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                      <paper-dropdown-menu style="width:40%">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                    </paper-menu>
                  </paper-submenu>
                </paper-menu>
              </paper-submenu>
              <paper-submenu>
                <paper-item class="menu-trigger">Exodus</paper-item>
                <paper-menu class="menu-content">
                  <paper-submenu>
                    <paper-item class="menu-trigger">1</paper-item>
                    <paper-menu class="menu-content">
                      <paper-dropdown-menu style="width:40%">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                      <paper-dropdown-menu style="width:40%">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                    </paper-menu>
                  </paper-submenu>
                  <paper-submenu>
                    <paper-item class="menu-trigger">2</paper-item>
                    <paper-menu class="menu-content">
                      <paper-dropdown-menu style="width:40%">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                      <paper-dropdown-menu style="width:40%">
                        <paper-menu class="dropdown-content" selected="0">
                          <paper-item>1</paper-item>
                          <paper-item>2</paper-item>
                          <paper-item>3</paper-item>
                          <paper-item>4</paper-item>
                        </paper-menu>
                      </paper-dropdown-menu>
                    </paper-menu>
                  </paper-submenu>
                </paper-menu>
              </paper-submenu>
            </paper-menu>
          </paper-submenu>
          <paper-submenu>
            <paper-item class="menu-trigger">NT</paper-item>
            <paper-menu class="menu-content">
              <paper-submenu>
                <paper-item class="menu-trigger">Matthew</paper-item>
                <paper-menu class="menu-content">
                  <paper-submenu>
                    <paper-item class="menu-trigger">1</paper-item>
                    <paper-menu class="menu-content">
                      <paper-item>hi</paper-item>
                    </paper-menu>
                  </paper-submenu>
                </paper-menu>
              </paper-submenu>
            </paper-menu>
          </paper-submenu>
        </paper-menu>
      </paper-header-panel>

      <paper-header-panel main>
        <paper-toolbar>
          <span class="flex">
            <paper-icon-button icon="av:library-books" paper-drawer-toggle></paper-icon-button>
          </span>
          <div>{{ajaxResponse.display}}</div>
          <span class="flex layout horizontal center">
            <span class="flex"></span>
            <resize-button btn-height="2em" change-amount=-1 text-size={{textsize}}></resize-button>
            <resize-button btn-height="3em" change-amount=+1 text-size={{textsize}}></resize-button>
          </span>
        </paper-toolbar>
        <div id="mainContent" style$=font-size:{{textsize}}em></div>
      </paper-header-panel>

    </paper-drawer-panel>
    <script>
      var app = document.getElementById("app");
      app.textsize = 2;
      app.handleResponse = function(){
        document.getElementById("mainContent").innerHTML = app.ajaxResponse.text;
      }
    </script>
  </template>
</body>
</html>